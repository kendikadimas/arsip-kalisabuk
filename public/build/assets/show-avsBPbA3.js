import{c as Fe,a as I,u as Le,j as t,H as Te,L as fe,d as Ie}from"./app-Bw8GsKhe.js";import{D as Be,a as He,b as Oe,c as ue,A as Me}from"./app-layout-CwZytYqB.js";import{B}from"./button-CFKbQEj1.js";import{D as pe,a as ge,b as je,c as be,d as ve,e as ye}from"./dialog-BWe0TSwL.js";import{I as Ne}from"./input-BRwIDVsw.js";import{L as we}from"./label-R9ow77Rx.js";import{F as Pe}from"./file-text-BhoxAei-.js";import{c as $e}from"./index-CDYeYEFv.js";import{E as Re}from"./eye-Dvbtbozu.js";import{E as Ge,P as Je,T as ke,S as Ke}from"./trash-2-C2D1kvU0.js";import{F as Ue}from"./file-Cr9l2bGq.js";import{L as Ve}from"./loader-circle-BSr34ZOn.js";import{C as Ye}from"./chevron-left-CdCVgvUs.js";/* empty css            */import"./index-SOErv5hx.js";import"./index-Cw6-TTuJ.js";const qe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ze=$e("Clock",qe);function ht(De){const e=Fe.c(103),{category:r,archives:i}=De;let H;e[0]===Symbol.for("react.memo_cache_sentinel")?(H={title:"Beranda",href:"/dashboard"},e[0]=H):H=e[0];const re=`/categories/${r.id}`;let O;e[1]!==r.name||e[2]!==re?(O=[H,{title:r.name,href:re}],e[1]=r.name,e[2]=re,e[3]=O):O=e[3];const ie=O,[a,Se]=I.useState(""),[ne,_e]=I.useState(null),[oe,M]=I.useState(!1);let P;e[4]===Symbol.for("react.memo_cache_sentinel")?(P={title:"",year:""},e[4]=P):P=e[4];const s=Le(P);let $;e[5]!==s?($=l=>{_e(l),s.setData({title:l.title,year:l.year.toString()}),M(!0)},e[5]=s,e[6]=$):$=e[6];const ce=$;let R;e[7]!==s||e[8]!==ne?.id?(R=l=>{l.preventDefault(),s.patch(`/archives/${ne?.id}`,{onSuccess:()=>{M(!1),s.reset()}})},e[7]=s,e[8]=ne?.id,e[9]=R):R=e[9];const me=R,[T,Ce]=I.useState(null),[de,G]=I.useState(!1);let J;e[10]===Symbol.for("react.memo_cache_sentinel")?(J=l=>{Ce(l),G(!0)},e[10]=J):J=e[10];const Ae=J;let K;e[11]!==T?(K=()=>{T&&Ie.delete(`/archives/${T.id}`,{onSuccess:()=>G(!1)})},e[11]=T,e[12]=K):K=e[12];const he=K;let U;if(e[13]!==i||e[14]!==a){let l;e[16]!==a?(l=Ee=>Ee.title.toLowerCase().includes(a.toLowerCase()),e[16]=a,e[17]=l):l=e[17],U=i.filter(l),e[13]=i,e[14]=a,e[15]=U}else U=e[15];const V=U;let n;e[18]!==r.name?(n=t.jsx(Te,{title:r.name}),e[18]=r.name,e[19]=n):n=e[19];let Y;e[20]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(fe,{href:"/dashboard",className:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-100 text-slate-600 hover:bg-slate-200 transition-colors",children:t.jsx(Ye,{className:"h-6 w-6"})}),e[20]=Y):Y=e[20];let o;e[21]!==r.name?(o=t.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:r.name}),e[21]=r.name,e[22]=o):o=e[22];let c;e[23]!==i.length?(c=t.jsxs("p",{className:"text-sm text-slate-500",children:[i.length," berkas tersimpan"]}),e[23]=i.length,e[24]=c):c=e[24];let m;e[25]!==o||e[26]!==c?(m=t.jsxs("div",{className:"flex items-center gap-4",children:[Y,t.jsxs("div",{children:[o,c]})]}),e[25]=o,e[26]=c,e[27]=m):m=e[27];let q;e[28]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(Ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),e[28]=q):q=e[28];let z;e[29]===Symbol.for("react.memo_cache_sentinel")?(z=l=>Se(l.target.value),e[29]=z):z=e[29];let d;e[30]!==a?(d=t.jsxs("div",{className:"relative",children:[q,t.jsx("input",{type:"text",placeholder:"Cari berkas di kategori ini...",className:"w-full rounded-2xl border-slate-200 bg-slate-50 pl-10 pr-4 py-3 text-sm focus:border-blue-500 focus:ring-blue-500 transition-all outline-hidden",value:a,onChange:z})]}),e[30]=a,e[31]=d):d=e[31];let h;e[32]!==V||e[33]!==ce||e[34]!==a?(h=V.length>0?V.map(l=>t.jsxs("div",{className:"group flex items-center justify-between rounded-2xl bg-white p-4 shadow-sm border border-slate-100 hover:shadow-md hover:border-blue-100 transition-all",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0 pr-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-50 text-blue-600 shrink-0",children:t.jsx(Pe,{className:"h-6 w-6"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h4",{className:"text-sm font-bold text-slate-900 group-hover:text-blue-600 transition-colors truncate",title:l.title,children:l.title}),t.jsxs("div",{className:"mt-1 flex items-center gap-3 text-[10px] text-slate-500 font-medium",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ze,{className:"h-3 w-3"}),l.year]}),t.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-300"}),t.jsx("span",{children:"PDF"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[t.jsx("a",{href:l.view_url,target:"_blank",rel:"noopener noreferrer",className:"h-8 w-8 flex items-center justify-center rounded-lg text-slate-400 hover:bg-blue-50 hover:text-blue-600 transition-all",children:t.jsx(Re,{className:"h-4 w-4"})}),t.jsxs(Be,{children:[t.jsx(He,{asChild:!0,children:t.jsx("button",{className:"h-8 w-8 flex items-center justify-center rounded-lg text-slate-400 hover:bg-slate-50 hover:text-slate-600 transition-all outline-hidden",children:t.jsx(Ge,{className:"h-4 w-4"})})}),t.jsxs(Oe,{className:"w-40 rounded-xl",align:"end",children:[t.jsxs(ue,{onClick:()=>ce(l),className:"cursor-pointer rounded-lg text-slate-600 focus:bg-blue-50 focus:text-blue-600 font-medium",children:[t.jsx(Je,{className:"mr-2 h-4 w-4"}),"Edit Info"]}),t.jsxs(ue,{onClick:()=>Ae(l),className:"cursor-pointer rounded-lg text-red-600 focus:bg-red-50 focus:text-red-700 font-medium",children:[t.jsx(ke,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})]})]},l.id)):t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"h-20 w-20 rounded-full bg-slate-50 flex items-center justify-center mb-4",children:t.jsx(Ue,{className:"h-10 w-10 text-slate-300"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:a?"Tidak ditemukan kecocokan":"Belum ada dokumen"}),t.jsx("p",{className:"text-sm text-slate-500 max-w-[200px] mt-1",children:a?"Coba sesuaikan kata kunci pencarian Anda.":"Mulai dengan memindai atau mengunggah dokumen baru."}),!a&&t.jsx(B,{className:"mt-6 bg-blue-600 hover:bg-blue-700",asChild:!0,children:t.jsx(fe,{href:"/scanner",children:"Ke Pemindai"})})]}),e[32]=V,e[33]=ce,e[34]=a,e[35]=h):h=e[35];let x;e[36]!==h?(x=t.jsx("div",{className:"flex flex-col gap-3",children:h}),e[36]=h,e[37]=x):x=e[37];let f;e[38]!==m||e[39]!==d||e[40]!==x?(f=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 md:p-6 max-w-2xl mx-auto w-full font-sans",children:[m,d,x]}),e[38]=m,e[39]=d,e[40]=x,e[41]=f):f=e[41];let Q;e[42]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsxs(ge,{children:[t.jsx(je,{children:"Edit Informasi Dokumen"}),t.jsx(be,{children:"Ubah judul arsip atau tahun dokumen."})]}),e[42]=Q):Q=e[42];let W;e[43]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(we,{htmlFor:"archive-title",children:"Judul Dokumen"}),e[43]=W):W=e[43];let u;e[44]!==s?(u=l=>s.setData("title",l.target.value),e[44]=s,e[45]=u):u=e[45];let p;e[46]!==s.data.title||e[47]!==u?(p=t.jsx(Ne,{id:"archive-title",value:s.data.title,onChange:u,autoFocus:!0}),e[46]=s.data.title,e[47]=u,e[48]=p):p=e[48];let g;e[49]!==s.errors.title?(g=s.errors.title&&t.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.errors.title}),e[49]=s.errors.title,e[50]=g):g=e[50];let j;e[51]!==p||e[52]!==g?(j=t.jsxs("div",{className:"grid gap-2",children:[W,p,g]}),e[51]=p,e[52]=g,e[53]=j):j=e[53];let X;e[54]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(we,{htmlFor:"archive-year",children:"Tahun"}),e[54]=X):X=e[54];let b;e[55]!==s?(b=l=>s.setData("year",l.target.value),e[55]=s,e[56]=b):b=e[56];let v;e[57]!==s.data.year||e[58]!==b?(v=t.jsx(Ne,{id:"archive-year",type:"number",value:s.data.year,onChange:b}),e[57]=s.data.year,e[58]=b,e[59]=v):v=e[59];let y;e[60]!==s.errors.year?(y=s.errors.year&&t.jsx("p",{className:"text-sm text-red-500 font-medium",children:s.errors.year}),e[60]=s.errors.year,e[61]=y):y=e[61];let N;e[62]!==v||e[63]!==y?(N=t.jsxs("div",{className:"grid gap-2",children:[X,v,y]}),e[62]=v,e[63]=y,e[64]=N):N=e[64];let w;e[65]!==j||e[66]!==N?(w=t.jsxs("div",{className:"grid gap-4 py-4",children:[j,N]}),e[65]=j,e[66]=N,e[67]=w):w=e[67];let Z;e[68]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(B,{type:"button",variant:"secondary",onClick:()=>M(!1),children:"Batal"}),e[68]=Z):Z=e[68];let k;e[69]!==s.processing?(k=s.processing&&t.jsx(Ve,{className:"mr-2 h-4 w-4 animate-spin"}),e[69]=s.processing,e[70]=k):k=e[70];let D;e[71]!==s.processing||e[72]!==k?(D=t.jsxs(pe,{children:[Z,t.jsxs(B,{type:"submit",disabled:s.processing,className:"bg-blue-600 hover:bg-blue-700",children:[k,"Simpan Perubahan"]})]}),e[71]=s.processing,e[72]=k,e[73]=D):D=e[73];let S;e[74]!==me||e[75]!==w||e[76]!==D?(S=t.jsxs(ve,{className:"sm:max-w-md",children:[Q,t.jsxs("form",{onSubmit:me,children:[w,D]})]}),e[74]=me,e[75]=w,e[76]=D,e[77]=S):S=e[77];let _;e[78]!==oe||e[79]!==S?(_=t.jsx(ye,{open:oe,onOpenChange:M,children:S}),e[78]=oe,e[79]=S,e[80]=_):_=e[80];let ee;e[81]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(je,{className:"text-red-600",children:"Hapus Dokumen?"}),e[81]=ee):ee=e[81];const xe=T?.title;let C;e[82]!==xe?(C=t.jsxs("p",{children:["Apakah Anda yakin ingin menghapus dokumen ",t.jsx("strong",{children:xe}),"?"]}),e[82]=xe,e[83]=C):C=e[83];let te;e[84]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"File juga akan dihapus secara permanen dari Google Drive."}),e[84]=te):te=e[84];let A;e[85]!==C?(A=t.jsxs(ge,{children:[ee,t.jsxs(be,{children:[C,te]})]}),e[85]=C,e[86]=A):A=e[86];let se;e[87]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(B,{type:"button",variant:"secondary",onClick:()=>G(!1),className:"rounded-xl",children:"Batal"}),e[87]=se):se=e[87];let le;e[88]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(ke,{className:"mr-2 h-4 w-4"}),e[88]=le):le=e[88];let E;e[89]!==he?(E=t.jsxs(pe,{className:"gap-2 sm:gap-0 mt-4",children:[se,t.jsxs(B,{type:"button",variant:"destructive",onClick:he,className:"bg-red-600 hover:bg-red-700 rounded-xl",children:[le,"Ya, Hapus"]})]}),e[89]=he,e[90]=E):E=e[90];let F;e[91]!==A||e[92]!==E?(F=t.jsxs(ve,{className:"sm:max-w-md",children:[A,E]}),e[91]=A,e[92]=E,e[93]=F):F=e[93];let L;e[94]!==de||e[95]!==F?(L=t.jsx(ye,{open:de,onOpenChange:G,children:F}),e[94]=de,e[95]=F,e[96]=L):L=e[96];let ae;return e[97]!==ie||e[98]!==n||e[99]!==f||e[100]!==_||e[101]!==L?(ae=t.jsxs(Me,{breadcrumbs:ie,children:[n,f,_,L]}),e[97]=ie,e[98]=n,e[99]=f,e[100]=_,e[101]=L,e[102]=ae):ae=e[102],ae}export{ht as default};
